<ng-container *ngIf="isTextAction; else iconOnlyAction">
    <app-loading-button
        buttonType="button"
        [buttonClass]="buttonClass"
        [dataAction]="type"
        [disabled]="disabled"
        [loading]="loading"
        [title]="computedTitle"
        [ariaLabel]="computedAriaLabel"
        [stopPropagation]="stopPropagation"
        (action)="handleClick($event)"
    >
        <svg
            *ngIf="type === 'commit'"
            class="action-icon"
            aria-hidden="true"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1.6"
            stroke-linecap="round"
            stroke-linejoin="round"
        >
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M3 12h6"></path>
            <path d="M15 12h6"></path>
            <path d="M7 7l-4 4 4 4"></path>
        </svg>
        <svg
            *ngIf="type === 'push'"
            class="action-icon"
            aria-hidden="true"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1.6"
            stroke-linecap="round"
            stroke-linejoin="round"
        >
            <path d="M8 19v-4h8v4"></path>
            <path d="M12 13V4"></path>
            <path d="M8.5 7.5l3.5-3.5 3.5 3.5"></path>
        </svg>
        <span class="action-label">{{ actionLabel }}</span>
    </app-loading-button>
</ng-container>

<ng-template #iconOnlyAction>
    <app-icon-loading-button
        buttonType="button"
        [buttonClass]="buttonClass"
        [dataAction]="type"
        [disabled]="disabled"
        [loading]="loading"
        [title]="computedTitle"
        [ariaLabel]="computedAriaLabel"
        [stopPropagation]="stopPropagation"
        (action)="handleClick($event)"
    >
        <ng-container [ngSwitch]="type">
            <svg
                *ngSwitchCase="'stop'"
                class="action-icon"
                aria-hidden="true"
                viewBox="0 0 24 24"
                fill="currentColor"
            >
                <rect x="7" y="7" width="10" height="10" rx="1"></rect>
            </svg>
            <ng-container *ngSwitchCase="'discard'">
                <svg
                    *ngIf="!loading"
                    class="action-icon"
                    aria-hidden="true"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.6"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                >
                    <path d="M3 6h18"></path>
                    <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                    <path d="M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6"></path>
                    <path d="M10 11v6"></path>
                    <path d="M14 11v6"></path>
                </svg>
            </ng-container>
        </ng-container>
    </app-icon-loading-button>
</ng-template>
